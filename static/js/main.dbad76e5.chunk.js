(this["webpackJsonpbook-shop"]=this["webpackJsonpbook-shop"]||[]).push([[0],{184:function(t,e,o){var i={"./book1.jpeg":185,"./book2.jpeg":186,"./book3.jpeg":187,"./book4.jpeg":188,"./book5.jpeg":189};function a(t){var e=n(t);return o(e)}function n(t){if(!o.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=n,t.exports=a,a.id=184},185:function(t,e,o){"use strict";o.r(e),e.default=o.p+"static/media/book1.e82c5358.jpeg"},186:function(t,e,o){"use strict";o.r(e),e.default=o.p+"static/media/book2.f25f58cd.jpeg"},187:function(t,e,o){"use strict";o.r(e),e.default=o.p+"static/media/book3.548d8ce1.jpeg"},188:function(t,e,o){"use strict";o.r(e),e.default=o.p+"static/media/book4.5f2aabff.jpeg"},189:function(t,e,o){"use strict";o.r(e),e.default=o.p+"static/media/book5.59bcf83f.jpeg"},190:function(t,e,o){"use strict";o.r(e);var i=o(1),a=o.n(i),n=o(65),r=o.n(n),s=(o(77),o(66)),c=o(67),d=o(8),l=o(72),h=o(71),b=o(38),j=o.n(b),u=o(68),m=o.n(u),p=o(37),O=o.n(p),v=o(39),f=o.n(v),k=o(69),x=o.n(k),g=o(70),C=o.n(g),S=o(40),F=o(0);function y(t){var e=t.book,i=t.handleAddToCart,n=t.handleRemoveFromCart,r=t.shoppingCartValue,s=void 0===r?0:r,c=o(184)("./"+e.id+".jpeg");return Object(F.jsxs)(a.a.Fragment,{children:[Object(F.jsx)("img",{alt:e.tite,src:c.default}),Object(F.jsxs)("div",{className:"bookStore-list-item-description",children:[Object(F.jsxs)("div",{children:[Object(F.jsx)("p",{children:e.title}),Object(F.jsxs)("p",{className:"subText",children:["By ",e.author]}),Object(F.jsxs)("p",{children:["$ ",parseInt(e.amount).toFixed(2)]})]}),Object(F.jsxs)("div",{className:"bookStore-list-item-actionButtons",children:[Object(F.jsx)("button",{id:"".concat(e.id,"-add"),onClick:function(){i(e.id)},children:Object(F.jsx)(S.b,{})}),Object(F.jsx)("input",{readOnly:!0,defaultValue:0,value:s}),Object(F.jsx)("button",{id:"".concat(e.id,"-remove"),disabled:!s,onClick:function(){n(e.id)},children:Object(F.jsx)(S.a,{})})]})]})]})}var N=function(t){Object(l.a)(o,t);var e=Object(h.a)(o);function o(t){var i;return Object(s.a)(this,o),(i=e.call(this,t)).books=[{id:"book1",amount:8,title:"Harry Potter and the Sorcerers Stone",author:"J.K. Rowling"},{id:"book2",amount:8,title:"Harry Potter and the Chamber of Secrets",author:"J.K. Rowling"},{id:"book3",amount:8,title:"Harry Potter and the Prisoner of Azkaban",author:"J.K. Rowling"},{id:"book4",amount:8,title:"Harry Potter and the Goblet of Fire",author:"J.K. Rowling"},{id:"book5",amount:8,title:"Harry Potter and the Order of the Phoenix",author:"J.K. Rowling"}],i.baseFare=8,i.state={shoppingCart:{},amount:0},i.handleAddToCart=i.handleAddToCart.bind(Object(d.a)(i)),i.handleRemoveFromCart=i.handleRemoveFromCart.bind(Object(d.a)(i)),i.handleTotalBill=i.handleTotalBill.bind(Object(d.a)(i)),i}return Object(c.a)(o,[{key:"handleAddToCart",value:function(t){var e=this,o=this.state.shoppingCart;o[t]?o[t]++:o[t]=1,this.setState({shoppingCart:o},(function(){e.handleTotalBill()}))}},{key:"handleRemoveFromCart",value:function(t){var e=this,o=f()(this.state.shoppingCart);o[t]--,0===o[t]&&delete o[t],this.setState({shoppingCart:o},(function(){e.handleTotalBill()}))}},{key:"handleTotalBill",value:function(){for(var t=this.state.amount,e=void 0===t?0:t,o=f()(this.state.shoppingCart),i=0,a=function(t){switch(t){case 2:return 5;case 3:return 10;case 4:return 20;case 5:return 25;default:return 0}};Object.keys(o).length>0;){var n=0;for(var r in o)n++,o[r]--,0===o[r]&&delete o[r];e=this.baseFare*n,n>1&&(e-=a(n)/100*e),i+=e}this.setState({amount:i})}},{key:"render",value:function(){var t=this,e=this.state,o=e.shoppingCart,i=e.amount,n=C()(x()(o)),r=this.baseFare*n-i;return Object(F.jsxs)("div",{className:"bookStore",children:[Object(F.jsx)("h1",{children:"Purva's Book Shop"}),Object(F.jsxs)("div",{className:"bookStore-container",children:[Object(F.jsx)("div",{className:"bookStore-list",children:j()(this.books,(function(e){return Object(F.jsx)("div",{className:"bookStore-list-item",children:Object(F.jsx)(y,{book:e,handleAddToCart:t.handleAddToCart,handleRemoveFromCart:t.handleRemoveFromCart,shoppingCartValue:o[e.id]})},e.id)}))}),Object(F.jsx)("div",{className:"bookStore-shoppingCart",children:Object.keys(o).length>0?Object(F.jsxs)(a.a.Fragment,{children:[Object(F.jsx)("h3",{children:"SHOPPING CART"}),j()(o,(function(e,o){return Object(F.jsxs)("div",{className:"bookStore-shoppingCart-item",children:[Object(F.jsx)("div",{children:O()(m()(t.books,["id",o]),"title","")}),Object(F.jsx)("div",{children:e})]},o)})),Object(F.jsxs)("div",{className:"bookStore-totalBill",children:[r>0&&Object(F.jsxs)(a.a.Fragment,{children:[Object(F.jsxs)("div",{className:"bookStore-totalBill-item",children:[Object(F.jsx)("div",{children:"Total Amount:"}),Object(F.jsxs)("div",{children:["$ ",(this.baseFare*n).toFixed(2)]})]}),Object(F.jsxs)("div",{className:"bookStore-totalBill-item",children:[Object(F.jsx)("div",{children:"Discount:"}),Object(F.jsxs)("div",{children:["- $ ",r.toFixed(2)]})]})]}),Object(F.jsxs)("div",{className:"bookStore-totalBill-item finalAmount",children:[Object(F.jsx)("div",{children:"Final Amount:"}),Object(F.jsxs)("div",{children:["$ ",i.toFixed(2)]})]})]})]}):Object(F.jsx)("div",{children:"Your cart is empty!"})})]})]})}}]),o}(a.a.Component);r.a.render(Object(F.jsx)(a.a.StrictMode,{children:Object(F.jsx)(N,{})}),document.getElementById("root"))},77:function(t,e,o){}},[[190,1,2]]]);
//# sourceMappingURL=main.dbad76e5.chunk.js.map