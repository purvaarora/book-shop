(this["webpackJsonpbook-shop"]=this["webpackJsonpbook-shop"]||[]).push([[0],{184:function(t,e,o){var a={"./book1.jpeg":185,"./book2.jpeg":186,"./book3.jpeg":187,"./book4.jpeg":188,"./book5.jpeg":189};function i(t){var e=n(t);return o(e)}function n(t){if(!o.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id=184},185:function(t,e,o){"use strict";o.r(e),e.default=o.p+"static/media/book1.e82c5358.jpeg"},186:function(t,e,o){"use strict";o.r(e),e.default=o.p+"static/media/book2.f25f58cd.jpeg"},187:function(t,e,o){"use strict";o.r(e),e.default=o.p+"static/media/book3.548d8ce1.jpeg"},188:function(t,e,o){"use strict";o.r(e),e.default=o.p+"static/media/book4.5f2aabff.jpeg"},189:function(t,e,o){"use strict";o.r(e),e.default=o.p+"static/media/book5.59bcf83f.jpeg"},190:function(t,e,o){"use strict";o.r(e);var a=o(1),i=o.n(a),n=o(65),r=o.n(n),s=(o(77),o(66)),c=o(67),d=o(8),l=o(72),b=o(71),h=o(38),j=o.n(h),u=o(68),m=o.n(u),p=o(37),O=o.n(p),k=o(39),v=o.n(k),f=o(69),x=o.n(f),g=o(70),C=o.n(g),F=o(40),S=o(0);function B(t){var e=t.book,a=t.handleAddToCart,n=t.handleRemoveFromCart,r=t.shoppingCartValue,s=t.baseBookFare,c=o(184)("./"+e.id+".jpeg");return Object(S.jsxs)(i.a.Fragment,{children:[Object(S.jsx)("img",{alt:e.tite,src:c.default}),Object(S.jsxs)("div",{className:"bookStore-list-item-description",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{children:e.title}),Object(S.jsxs)("p",{className:"subText",children:["By ",e.author]}),Object(S.jsxs)("p",{children:["$ ",parseInt(s).toFixed(2)]})]}),Object(S.jsxs)("div",{className:"bookStore-list-item-actionButtons",children:[Object(S.jsx)("button",{id:"".concat(e.id,"-remove"),className:"bookStore-list-item-actionButtons-remove",disabled:!r,onClick:function(){n(e.id)},children:Object(S.jsx)(F.a,{})}),Object(S.jsx)("input",{readOnly:!0,defaultValue:0,value:r}),Object(S.jsx)("button",{id:"".concat(e.id,"-add"),className:"bookStore-list-item-actionButtons-add",onClick:function(){a(e.id)},children:Object(S.jsx)(F.b,{})})]})]})]})}B.defaultProps={shoppingCartValue:0,baseBookFare:0};var N=B,y=function(t){Object(l.a)(o,t);var e=Object(b.a)(o);function o(t){var a;return Object(s.a)(this,o),(a=e.call(this,t)).baseFare=8,a.state={shoppingCart:{},amount:0},a.handleAddToCart=a.handleAddToCart.bind(Object(d.a)(a)),a.handleRemoveFromCart=a.handleRemoveFromCart.bind(Object(d.a)(a)),a.handleTotalBill=a.handleTotalBill.bind(Object(d.a)(a)),a}return Object(c.a)(o,[{key:"handleAddToCart",value:function(t){var e=this,o=this.state.shoppingCart;o[t]?o[t]++:o[t]=1,this.setState({shoppingCart:o},(function(){e.handleTotalBill()}))}},{key:"handleRemoveFromCart",value:function(t){var e=this,o=v()(this.state.shoppingCart);o[t]--,0===o[t]&&delete o[t],this.setState({shoppingCart:o},(function(){e.handleTotalBill()}))}},{key:"handleTotalBill",value:function(){for(var t=this.state.amount,e=void 0===t?0:t,o=v()(this.state.shoppingCart),a=0,i=function(t){switch(t){case 2:return 5;case 3:return 10;case 4:return 20;case 5:return 25}};Object.keys(o).length>0;){var n=0;for(var r in o)n++,o[r]--,0===o[r]&&delete o[r];e=this.baseFare*n,n>1&&(e-=i(n)/100*e),a+=e}this.setState({amount:a})}},{key:"render",value:function(){var t=this,e=this.state,o=e.shoppingCart,a=e.amount,n=this.props.books,r=C()(x()(o)),s=this.baseFare*r-a;return Object(S.jsxs)("div",{className:"bookStore",children:[Object(S.jsx)("h1",{children:"Book Shop"}),Object(S.jsxs)("div",{className:"bookStore-container",children:[Object(S.jsx)("div",{className:"bookStore-list",children:j()(n,(function(e){return Object(S.jsx)("div",{className:"bookStore-list-item",children:Object(S.jsx)(N,{book:e,handleAddToCart:t.handleAddToCart,handleRemoveFromCart:t.handleRemoveFromCart,shoppingCartValue:o[e.id],baseBookFare:t.baseFare})},e.id)}))}),Object(S.jsx)("div",{className:"bookStore-shoppingCart",children:Object.keys(o).length>0?Object(S.jsxs)(i.a.Fragment,{children:[Object(S.jsx)("h3",{children:"SHOPPING CART"}),j()(o,(function(t,e){return Object(S.jsxs)("div",{className:"bookStore-shoppingCart-item",children:[Object(S.jsx)("div",{children:O()(m()(n,["id",e]),"title","")}),Object(S.jsx)("div",{children:t})]},e)})),Object(S.jsxs)("div",{className:"bookStore-totalBill",children:[s>0&&Object(S.jsxs)(i.a.Fragment,{children:[Object(S.jsxs)("div",{className:"bookStore-totalBill-item",children:[Object(S.jsx)("div",{children:"Total Amount:"}),Object(S.jsxs)("div",{children:["$ ",(this.baseFare*r).toFixed(2)]})]}),Object(S.jsxs)("div",{className:"bookStore-totalBill-item",children:[Object(S.jsx)("div",{children:"Discount:"}),Object(S.jsxs)("div",{children:["- $ ",s.toFixed(2)]})]})]}),Object(S.jsxs)("div",{className:"bookStore-totalBill-item finalAmount",children:[Object(S.jsx)("div",{children:"Final Amount:"}),Object(S.jsxs)("div",{children:["$ ",a.toFixed(2)]})]})]})]}):Object(S.jsx)("div",{children:"Your cart is empty!"})})]})]})}}]),o}(i.a.Component);r.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(y,{books:[{id:"book1",title:"Harry Potter and the Sorcerers Stone",author:"J.K. Rowling"},{id:"book2",title:"Harry Potter and the Chamber of Secrets",author:"J.K. Rowling"},{id:"book3",title:"Harry Potter and the Prisoner of Azkaban",author:"J.K. Rowling"},{id:"book4",title:"Harry Potter and the Goblet of Fire",author:"J.K. Rowling"},{id:"book5",title:"Harry Potter and the Order of the Phoenix",author:"J.K. Rowling"}]})}),document.getElementById("root"))},77:function(t,e,o){}},[[190,1,2]]]);
//# sourceMappingURL=main.c850b140.chunk.js.map