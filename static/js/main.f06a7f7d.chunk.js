(this["webpackJsonpbook-shop"]=this["webpackJsonpbook-shop"]||[]).push([[0],{179:function(t,e,o){"use strict";o.r(e);var a=o(7),r=o.n(a),n=o(63),i=o.n(n),s=(o(73),o(64)),d=o(65),l=o(8),c=o(68),h=o(67),b=o(37),u=o.n(b),j=o(66),v=o.n(j),k=o(36),m=o.n(k),p=o(38),O=o.n(p),f=o(0),C=function(t){Object(c.a)(o,t);var e=Object(h.a)(o);function o(t){var a;return Object(s.a)(this,o),(a=e.call(this,t)).books=[{id:"book1",title:"Harry Potter and the Sorcerers Stone"},{id:"book2",title:"Harry Potter and the Chamber of Secrets"},{id:"book3",title:"Harry Potter and the Prisoner of Azkaban"},{id:"book4",title:"Harry Potter and the Goblet of Fire"},{id:"book5",title:"Harry Potter and the Order of the Phoenix"}],a.state={shoppingCart:{},amount:0},a.handleAddToCart=a.handleAddToCart.bind(Object(l.a)(a)),a.handleRemoveFromCart=a.handleRemoveFromCart.bind(Object(l.a)(a)),a.handleTotalBill=a.handleTotalBill.bind(Object(l.a)(a)),a}return Object(d.a)(o,[{key:"handleAddToCart",value:function(t){var e=this,o=t.target.id;o=o.substr(0,o.indexOf("-"));var a=this.state.shoppingCart;a[o]?a[o]++:a[o]=1,this.setState({shoppingCart:a},(function(){e.handleTotalBill()}))}},{key:"handleRemoveFromCart",value:function(t){var e=this,o=t.target.id;o=o.substr(0,o.indexOf("-"));var a=O()(this.state.shoppingCart);a[o]--,0===a[o]&&delete a[o],this.setState({shoppingCart:a},(function(){e.handleTotalBill()}))}},{key:"handleTotalBill",value:function(){for(var t=this.state.amount,e=void 0===t?0:t,o=O()(this.state.shoppingCart),a=0,r=function(t){switch(t){case 2:return 5;case 3:return 10;case 4:return 20;case 5:return 25;default:return 0}};Object.keys(o).length>0;){var n=0;for(var i in o)n++,o[i]--,0===o[i]&&delete o[i];e=8*n,n>1&&(e-=r(n)/100*e),a+=e}this.setState({amount:a})}},{key:"render",value:function(){var t=this,e=this.state,o=e.shoppingCart,a=e.amount;return Object(f.jsxs)("div",{className:"bookStore",children:[Object(f.jsx)("h1",{children:"Purva's Book Shop"}),Object(f.jsx)("div",{className:"bookStore-list",children:u()(this.books,(function(e){return Object(f.jsxs)("div",{className:"bookStore-list-item",children:[Object(f.jsx)("div",{children:e.title}),Object(f.jsxs)("div",{className:"bookStore-list-item-actionButtons",children:[Object(f.jsx)("button",{id:"".concat(e.id,"-add"),onClick:t.handleAddToCart,children:"Add to Cart"}),Object(f.jsx)("button",{id:"".concat(e.id,"-remove"),disabled:!o[e.id],onClick:t.handleRemoveFromCart,children:"Remove from Cart"})]})]},e.id)}))}),Object(f.jsxs)("div",{className:"bookStore-shoppingCart",children:[Object(f.jsx)("p",{children:"You selected:"}),u()(o,(function(e,o){return Object(f.jsxs)("div",{children:[m()(v()(t.books,["id",o]),"title","")," ",e]},o)}))]}),Object(f.jsx)("div",{className:"bookStore-totalBill",children:Object(f.jsxs)("p",{children:["Your total bill: ",a]})})]})}}]),o}(r.a.Component);i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))},73:function(t,e,o){}},[[179,1,2]]]);
//# sourceMappingURL=main.f06a7f7d.chunk.js.map